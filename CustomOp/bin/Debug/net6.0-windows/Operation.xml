<Processes>
	<Process name="Test1">
		<Operation type="SetVar" name="SetVars">
			<Data name="SrcFile" type="string" value="C:/test/test.txt" />
			<Data name="DestFile" type="string" value="C:/test/final.txt" />
			<Data name="ToKillProcess" type="string" value="FireFox" />
			<Data name="WaitTime" type="int" value="10000" />
		</Operation>
		<Operation type="FileMove" name="BasicFileMove">
			<Vars>
				<Mapping methodName="SourceFile" varName="SrcFile" />
				<Mapping methodName="DestinationFile" varName="DestFile" />
			</Vars>
		</Operation>
		<Operation type="Wait" name="Wait" />
		<Operation type="KillProcess" name="KillFireFox" />
	</Process>
	<Process name="Test2">
		<Operation type="SetVar" name="SetVars">
			<Data name="ToStopService" type="string" value="Steam Client Service" />
		</Operation>
		<Operation type="StopService" name="StartSteamService" />
	</Process>
	<Process name="TextTest">
		<Operation type="SetVar" name="SetVars">
			<Data name="Output1" type="string" value="First Check point" />
			<Data name="WaitTime" type="int" value="10000" />
			<Data name="Output2" type="string" value="Second Check Point" />
		</Operation>
		<Operation type="LogOutput" name="OutputTest1" >
			<Vars>
				<Mapping methodName="LogOutputText" varName="Output1" />
			</Vars>
		</Operation>
		<Operation type="Wait" name="Wait" />
		<Operation type="LogOutput" name="OutputTest2" >
			<Vars>
				<Mapping methodName="LogOutputText" varName="Output2" />
			</Vars>
		</Operation>
	</Process>
	<Process name="MessageTest">
		<Operation type="SetVar" name="SetVars">
			<Data name="T1" type="string" value="This is a message testing test !" />
		</Operation>
		<Operation type="RegexReplace" name="RegexTest">
			<Vars>
				<Mapping methodName="RegexInput" varName="T1" />
				<Data name="RegexMatch" type="string" value="e.t" />
				<Data name="RegexReplace" type="string" value="Eat" />
			</Vars>
		</Operation>
		<Operation type="MessageBox" name="MessageBox">
			<Vars>
				<Mapping methodName="Message" varName="RegexOutput" />
			</Vars>
		</Operation>
	</Process>
	<Process name="ListTest">
		<Operation type="SetVar" name="SetVars">
			<Data name="T1" type="string" value="This is a message testing test !" />
		</Operation>
		<Operation type="GenerateIntList" name="ListGenerator">
			<Vars>
				<Data name="StartInt" type = "int" value="0" />
				<Data name="EndInt" type="int" value="10" />
				<Data name="Step" type="int" value="1" />
			</Vars>
		</Operation>
		<Operation type="ProcessList" name="ListProcessor">
			<Vars>
				<Mapping methodName="InputList" varName="IntListOutput" />
			</Vars>
			<OperatedProcess>
				<Process name="SubProcess">
					<Operation type="MessageBox" name="MessageBox">
						<Vars>
							<Data name="Message" type="string" value="This is a message" />
						</Vars>
					</Operation>
				</Process>
			</OperatedProcess>
		</Operation>
	</Process>
	<Process name="HttpTest">
		<Operation type="HttpRequest" name="DeckGet">
			<Vars>
				<Data name="HttpRequestURL" type = "string" value='https://archidekt.com/api/decks/cards/?name&#61;&#38;formats&#61;3&#38;pageSize&#61;20' />
			</Vars>
		</Operation>
		<Operation type="MessageBox" name="DeckMessage">
			<Vars>
				<Mapping methodName="Message" varName="HttpResponse" />
			</Vars>
		</Operation>
	</Process>
	<Process name="DBTest">
		<Operation type="GenerateMap" name="GenerateMap">
			<Data name="customID" value="-2" />
			<Data name="color" value = "Color!" />
		</Operation>
		<Operation type="StoreMapToDB" name="StoreMap">
			<DataSource>.</DataSource>
			<InitialCatalog>MTG</InitialCatalog>
			<Password>TestUser</Password>
			<User>TestUser</User>
			<DataBase>Colors</DataBase>
			<DBCols DBCol="customID" VarName = "customID" />
			<DBCols DBCol="color" VarName = "color" />
			<Vars>
				<Mapping methodName="MapToDB" varName="GeneratedMap" />
			</Vars>
		</Operation>
		<Operation type="MapToString" name="MapString">
			<Vars>
				<Mapping methodName="MapToString" varName="GeneratedMap" />
			</Vars>
		</Operation>
		<Operation type="MessageBox" name="DeckMessage">
			<Vars>
				<Mapping methodName="Message" varName="MappedString" />
			</Vars>
		</Operation>
	</Process>
	<Process name="JSONProcessTest">
		<Operation type="HttpRequest" name="DeckGet">
			<Vars>
				<Data name="HttpRequestURL" type = "string" value='https://archidekt.com/api/decks/cards/?name&#61;&#38;formats&#61;3&#38;pageSize&#61;20' />
			</Vars>
		</Operation>
		<!--<Operation type="ReadFile" name="DeckGet">
			<Vars>
				<Data name="FilePath" type = "string" value='JSONtest.txt' />
			</Vars>
		</Operation>-->
		<Operation type="JSONToMap" name="CastJSON">
			<Vars>
				<Mapping methodName="JSonString" varName="HttpResponse" />
			</Vars>
		</Operation>
		<Operation type="MapToString" name="MapToString">
			<Vars>
				<Mapping methodName="MapToString" varName="DeserializedJSonMap" />
			</Vars>
		</Operation>
		<Operation type="MessageBox" name="DeckMessage">
			<Vars>
				<Mapping methodName="Message" varName="MappedString" />
			</Vars>
		</Operation>
	</Process>
	<Process name="TableTest">
		<Operation type="GenerateTable" name="MakeTable">
			<Table>
				<Row name="Jery" last_name="Seinfield" age="1004" />
				<Row name="Mery" last_name="Springstein" age="453" />
				<Row name="kia" last_name="lexus" age="4" occupation="car" />
				<Row name="Last" last_name="Trye" />
			</Table>
		</Operation>
		<Operation type="TableToString" name="TableToString">
			<Vars>
				<Mapping methodName="TableToString" varName="GeneratedDataTable" />
			</Vars>
		</Operation>
		<Operation type="MessageBox" name="DeckMessage">
			<Vars>
				<Mapping methodName="Message" varName="TableString" />
			</Vars>
		</Operation>
	</Process>
	<Process name="TableDBTest">
		<Operation type="GenerateTable" name="MakeTable">
			<Table>
				<Row customID="-100" color="Test1" />
				<Row customID="-101" color="Test2" />
			</Table>
		</Operation>
		<Operation type="StoreTableToDB" name="StoreMap">
			<DataSource>.</DataSource>
			<InitialCatalog>MTG</InitialCatalog>
			<Password>TestUser</Password>
			<User>TestUser</User>
			<DataBase>Colors</DataBase>
			<DBCols DBCol="customID" VarName = "customID" />
			<DBCols DBCol="color" VarName = "color" />
			<Vars>
				<Mapping methodName="TableToDB" varName="GeneratedDataTable" />
			</Vars>
		</Operation>
		<Operation type="MessageBox" name="DeckMessage">
			<Vars>
				<Data name="Message" type="string" value="DBOperation Completed" />
			</Vars>
		</Operation>
	</Process>
	<Process name="SELECTSQLTest">
		<Operation type="ReadFile" name="ReadSQLFile">
			<Vars>
				<Data name="FilePath" type="string" value="ColorTableSQLSelect.txt" />
			</Vars>
		</Operation>
		<Operation type="SQLSelect" name="MakeTable">
			<DataSource>.</DataSource>
			<InitialCatalog>MTG</InitialCatalog>
			<Password>TestUser</Password>
			<User>TestUser</User>
			<DataBase>Colors</DataBase>
			<Vars>
				<Mapping methodName="SQLSelectStatement" varName="ReadText" />
			</Vars>
		</Operation>
		<Operation type="TableColToIntList" name="MakeColIDs">
			<Vars>
				<Data name="ColumnName" type="string" value="customID" />
				<Mapping methodName="InputTable" varName="SelectedTable" />
			</Vars>
		</Operation>
		<Operation type="ProcessList" name="ListProcessor">
			<Vars>
				<Mapping methodName="InputList" varName="ColIntList" />
			</Vars>
			<OperatedProcess>
				<Process name="SubProcess">
					<Operation type="MessageBox" name="MessageBox">
						<Vars>
							<Mapping methodName="Message" varName="ListIntVal" />
							<!--<Data name="Message" type="string" value="Meessage" />-->
						</Vars>
					</Operation>
				</Process>
			</OperatedProcess>
		</Operation>
	</Process>
	<Process name="ArkidektScraper">
		<Operation type="ReadFile" name="ReadSQLFile">
			<Vars>
				<Data name="FilePath" type="string" value="DeckList.Json" />
			</Vars>
		</Operation>
		<Operation type="JSONToMap" name="CastJSON">
			<Vars>
				<Mapping methodName="JSonString" varName="ReadText" />
			</Vars>
		</Operation>
		<Operation type="GetMapValue" name="MapToString">
			<Vars>
				<Mapping methodName="MapToRead" varName="DeserializedJSonMap" />
				<Data name="MapKey" type="string" value="cards" />
			</Vars>
		</Operation>
		<Operation type="JSONListToTable" name="MapToString">
			<Vars>
				<Mapping methodName="JSonListString" varName="MapKeyValue" />
			</Vars>
		</Operation>
		<Operation type="DataTableColToList" name="Initial DataTable Creation">
			<Vars>
				<Data name="ColName" type="string" value="card" />
				<Mapping methodName="DataTableToList" varName="JSONDataTable" />
			</Vars>
		</Operation>
		<Operation type="Reduce" name="DataTable Reduction">
			<Accumulator>JSonList</Accumulator>
			<Vars>
				<Mapping methodName="ToReduceList" varName="DataTableColList" />
			</Vars>
		</Operation>
		
		<Operation type="JSONListToTable" name="Cards Table Maker">
			<Vars>
				<Mapping methodName="JSonListString" varName="ReducedListString" />
			</Vars>
		</Operation>
		<Operation type="DataTableColToList" name="Initial DataTable Creation">
			<Vars>
				<Data name="ColName" type="string" value="oracleCard" />
				<Mapping methodName="DataTableToList" varName="JSONDataTable" />
			</Vars>
		</Operation>
		<Operation type="Reduce" name="DataTable Reduction">
			<Accumulator>JSonList</Accumulator>
			<Vars>
				<Mapping methodName="ToReduceList" varName="DataTableColList" />
			</Vars>
		</Operation>
		<Operation type="JSONListToTable" name="Cards Table Maker">
			<Vars>
				<Mapping methodName="JSonListString" varName="ReducedListString" />
			</Vars>
		</Operation>
		<Operation type="WriteFile" name="WriteFile">
			<Vars>
				<Mapping methodName="TextToWrite" varName="ReducedListString" />
				<Data name="WriteFilePath" type="string" value="intermediateJSON.txt" />
			</Vars>
		</Operation>
		<Operation type="TableToString" name="MapToString">
			<Vars>
				<Mapping methodName="TableToString" varName="JSONDataTable" />
			</Vars>
		</Operation>
		<Operation type="WriteFile" name="WriteFile">
			<Vars>
				<Mapping methodName="TextToWrite" varName="TableString" />
				<Data name="WriteFilePath" type="string" value="FinalJSonCardList.txt" />
			</Vars>
		</Operation>
		
		<Operation type="StoreTableToDB" name="StoreMap">
			<DataSource>.</DataSource>
			<InitialCatalog>MTG</InitialCatalog>
			<Password>TestUser</Password>
			<User>TestUser</User>
			<DataBase>Sets</DataBase>
			<DBCols DBCol="name" VarName = "name" />
			<Vars>
				<Mapping methodName="TableToDB" varName="JSONDataTable" />
			</Vars>
		</Operation>
		<!--<Operation type="SQLSelect" name="MakeTable">
			<DataSource>.</DataSource>
			<InitialCatalog>MTG</InitialCatalog>
			<Password>TestUser</Password>
			<User>TestUser</User>
			<DataBase>Colors</DataBase>
			<Vars>
				<Mapping methodName="SQLSelectStatement" varName="ReadText" />
			</Vars>
		</Operation>
		<Operation type="TableColToIntList" name="MakeColIDs">
			<Vars>
				<Data name="ColumnName" type="string" value="customID" />
				<Mapping methodName="InputTable" varName="SelectedTable" />
			</Vars>
		</Operation>
		<Operation type="ProcessList" name="ListProcessor">
			<Vars>
				<Mapping methodName="InputList" varName="ColIntList" />
			</Vars>
			<OperatedProcess>
				<Process name="SubProcess">
					<Operation type="MessageBox" name="MessageBox">
						<Vars>
							<Mapping methodName="Message" varName="ListIntVal" />
							<Data name="Message" type="string" value="Meessage" />
						</Vars>
					</Operation>
				</Process>
			</OperatedProcess>
		</Operation>
		-->
	</Process>
	<Process name="CardToCSV">
		<Operation type="ReadFile" name="ReadSQLFile">
			<Vars>
				<Data name="FilePath" type="string" value="oracle-cards-20220904090207.json" />
			</Vars>
		</Operation>
		<Operation type="JSONListToTable" name="Cards Table Maker">
			<Vars>
				<Mapping methodName="JSonListString" varName="ReadText" />
			</Vars>
		</Operation>
		<!-- A new kind of operation that is mainly config based to do several different kind of changes at once -->
		<!-- Maybe do a list expands thing, need some kind of JSON Parse thing for prices-->
		<Operation type="DataTableModify" name="Cards Table Maker">
			<DTOperations>
				<!--<RemoveCols>
					<Col name="" />
				</RemoveCols>-->
				<KeepOnly>
					<Col name="id" />
					<Col name="name" />
					<Col name="released_at" />
					<Col name="uri" />
					<Col name="mana_cost" />
					<Col name="cmc" />
					<Col name="type_line" />
					<Col name="oracle_text" />
					<Col name="power" />
					<Col name="toughness" />
					<Col name="set_name" />
					<Col name="flavor_text" />
					<Col name="edhrec_rank" />
					<Col name="penny_rank" />
					<Col name="color_identity" />
					<Col name="keywords" />
				</KeepOnly>
				<CreateCols>
					<!--<Col name="" type="string">
						<Combine>
							<Col name="thing" />
							<col name="thing2" />
						</Combine> 
					</Col>-->
					<Col name="is_black" type="bool">
						<Conditions>
							<Condition type="contains" col="color_identity" value="B" />
						</Conditions>
					</Col>
					<Col name="is_red" type="bool">
						<Conditions>
							<Condition type="contains" col="color_identity" value="R" />
						</Conditions>
					</Col>
					<Col name="is_blue" type="bool">
						<Conditions>
							<Condition type="contains" col="color_identity" value="U" />
						</Conditions>
					</Col>
					<Col name="is_green" type="bool">
						<Conditions>
							<Condition type="contains" col="color_identity" value="G" />
						</Conditions>
					</Col>
					<Col name="is_white" type="bool">
						<Conditions>
							<Condition type="contains" col="color_identity" value="W" />
						</Conditions>
					</Col>
				</CreateCols>
			</DTOperations>
			<Vars>
				<Mapping methodName="InputDataTable" varName="JSONDataTable" />
			</Vars>
		</Operation>
		<Operation type="DataTableToCSV" name="MapToString">
			<Vars>
				<Mapping methodName="DataTableToCSV" varName="ModifiedDataTable" />
				<Data name="CSVFilePath" type="string" value="C:/test/MTGCards.csv" />
			</Vars>
		</Operation>
	</Process>
</Processes>